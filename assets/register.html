<!DOCTYPE html>
<html>
<head>
    <title>Register New Link - Drop-reg.cc</title>
    <link rel="stylesheet" href="/assets/css/base.css">
    <link rel="stylesheet" href="/assets/css/layout.css">
    <link rel="stylesheet" href="/assets/css/forms.css">
</head>
<body>
    <div class="register-container">
        <div class="header-nav">
            <div class="nav-links">
                {{if .User}}
                    <span style="color: #9ca3af;">Welcome, {{.User.Username}}!</span>
                {{end}}
            </div>
            <div class="nav-links">
                {{if .User}}
                    <a href="/" class="btn btn-outline">Dashboard</a>
                    <a href="/auth/logout" class="btn btn-outline">Logout</a>
                {{else}}
                    <a href="/auth/login" class="btn btn-outline">Login with Discord</a>
                {{end}}
            </div>
        </div>

        <div class="page-header">
        </div>

        <div class="info-box">
            <h3>How it works</h3>
            <p>
                Create easy-to-share links like <code>drop-reg.cc/hd597</code> that redirect to your Discord server invite. 
                Perfect for sharing on social media, forums, or anywhere you need a clean, memorable link.
                Short codes are limited to 5 characters for maximum brevity.
            </p>
        </div>

        <form method="POST" action="/register" class="register-form">
            <div class="form-group">
                <label for="short_code">Short Code</label>
                <div class="input-wrapper">
                    <div class="input-prefix">
                        <span>drop-reg.cc/</span>
                        <input type="text" id="short_code" name="short_code" required
                               pattern="[a-zA-Z0-9]{1,5}"
                               maxlength="5"
                               title="Only letters and numbers allowed, max 5 characters"
                               placeholder="hd597">
                    </div>
                    <div class="help-text">Only letters and numbers allowed, max 5 characters. Will be converted to lowercase.</div>
                </div>
            </div>

            <div class="form-group">
                <label for="discord_url">Discord Invite URL</label>
                <div class="input-wrapper">
                    <input type="url" id="discord_url" name="discord_url" required
                           pattern="https://discord\.gg/[a-zA-Z0-9]+"
                           title="Must be a valid Discord invite URL"
                           placeholder="https://discord.gg/helldivers">
                    <div class="help-text">Your Discord server's permanent invite link</div>
                </div>
            </div>

            <button type="submit" class="submit-btn">Create Short Link</button>
        </form>
    </div>
</body>
</html>